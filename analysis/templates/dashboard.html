
<!-- File: analysis/views.py -->
<!-- --- a/file:///c%3A/Users/kenny%20mongali/Desktop/Best/analysis/views.py -->
<!-- +++ b/file:///c%3A/Users/kenny%20mongali/Desktop/Best/analysis/views.py -->
<!-- @@ -1,4 +1,12 @@ -->
{% load static %}

<!DOCTYPE html>
<html>
<head>
    <title>HR Dashboard</title>
    

      <!-- Google Fonts (Optional) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Link to CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
<a href="{% url 'index' %}">← Back to Employee List</a>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f4f4f4;
            padding: 20px;
        }
        h1, h2 {
            text-align: center;
        }
        .dashboard-section {
            margin: 20px 0;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        canvas {
            max-width: 100%;
        }
        #employeeCount {
            text-align: center;
            font-size: 24px;
            margin-top: 20px;
        }
        #employeeCount span {
            font-weight: bold;
            color: #333;
        }
        #employeeCount {
            font-size: 24px;
            color: #333;
            text-align: center;
            margin-top: 20px;
        }
        #employeeCount span {
            font-weight: bold;
            color: #007bff; /* Bootstrap primary color */
        }
    </style>

    <h1>People Analytics Dashboard</h1>
    <p style="text-align:center;">This dashboard provides insights into employee demographics and satisfaction levels.</p>
    <div class="dashboard-section">
    <h1>Employee Info</h1>
    <h2>{{ employee.first_name }} {{ employee.last_name }}</h2>
    {% if employee.is_fraud %}
    <p style="color: red; font-weight: bold;">⚠️ This employee is flagged for fraud review</p>
    {% endif %}
    <!-- Gender Distribution -->
    <div class="dashboard-section">
        <h2>Gender</h2>
         <span id="gender">{{ gender }}</span></h3>
        
        <canvas id="genderChart"></canvas>
    </div>

    <!-- Department Distribution -->
    <div class="dashboard-section">
        <h2>Department</h2>
        <p>{{ employee.department }}</p>
        <canvas id="departmentChart"></canvas>
    </div>

    <!-- Employee Satisfaction -->
    <div class="dashboard-section">
        <h2>Employee Satisfaction</h2>
        <canvas id="satisfactionChart"></canvas>
    </div>

    <!-- Age Distribution -->
    <div class="dashboard-section">
        <h2>Age Distribution</h2>
        <p> {{ employee.age }}</p>
        <canvas id="ageChart"></canvas>
    </div>

        <!-- Leave Statistics -->
    <div class="dashboard-section">
        <h2>Leave Types</h2>
        <canvas id="leaveChart"></canvas>
    </div>

    <!-- Job Roles -->
    <div class="dashboard-section">
        <h2>Job Roles</h2>
        <canvas id="jobRoleChart"></canvas>
    </div>

    <!-- Tenure Groups -->
    <div class="dashboard-section">
        <h2>Tenure Groups</h2>
        <canvas id="tenureChart"></canvas>
    </div>


    <!-- Work Location -->
    <div class="dashboard-section">
    <h2>Work Location</h2>
    <p><strong>Work Location:</strong> {{ employee.get_work_location_display }}</p>
    <canvas id="locationChart"></canvas>
    </div>

    <!-- Salary Information -->
    <div class="dashboard-section">
        <h2>Salary</h2>
        <p><strong>Current Salary:</strong> ${{ employee.salary|floatformat:2 }}</p>
    </div>
    <!-- Employee Count -->
    
    
    
    
    
</div>



</body>
</html>